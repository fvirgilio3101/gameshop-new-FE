<div class="container py-4 text-white">
  <h2 class="mb-4 fs-4 fw-bold">In tendenza</h2>

  <div class="row g-3">
    @for (game of games(); track game.idVideogame) {
      <div class="col-6 col-sm-4 col-md-3 col-lg-2">
        <div class="card bg-dark border-0 shadow-sm position-relative h-100 game-card overflow-hidden">

          <img [src]="game.backgroundImage || game.coverImage"
               class="card-img-top"
               [alt]="game.titleVideogame"
               style="height: 150px; object-fit: cover;">

          @if ((game.discount) > 0) {
            <div class="position-absolute top-0 start-0 bg-danger text-white px-2 py-1 small rounded-end">
              -{{ game.discount }}%
            </div>
          }

          <div class="card-body p-2 d-flex flex-column justify-content-between">
            <h6 class="card-title mb-1 text-truncate" title="{{ game.titleVideogame }}">
              {{ game.titleVideogame }}
            </h6>

            <div class="d-flex justify-content-between align-items-center small">
              <span class="text-muted">{{ game.platforms }}</span>
              <strong class="text-success">{{ game.priceVideogame | currency: 'EUR' }}</strong>
            </div>
          </div>

        </div>
      </div>
    }
  </div>

  @if (games().length === 0) {
    <p class="text-center text-muted mt-4">Nessun gioco disponibile.</p>
  }
</div>
